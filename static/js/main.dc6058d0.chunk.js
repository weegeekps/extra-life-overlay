(this["webpackJsonpextra-life-overlay"]=this["webpackJsonpextra-life-overlay"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);n(50);var r,a=n(11),c=(n(51),n.p+"static/media/2020_controller_white.9cb54e5f.svg"),i=n.p+"static/media/2021_wings_white.38442acb.svg",s=n.p+"static/media/2021_dice_white.ccd5d93e.svg";!function(e){e.Controller2020="controller2020",e.Wings2021="wings2021",e.Dice2021="dice2021"}(r||(r={}));var o=n(7),u=function(e){var t=function(e){switch(e){case r.Controller2020:return[c,"logo-2020"];case r.Dice2021:return[s,"logo-dice-2021"];case r.Wings2021:default:return[i,"logo-wings-2021"]}}(e.choice),n=Object(a.a)(t,2),u=n[0],p=n[1];return Object(o.jsx)("div",{className:"logo "+p,"data-testid":"logo",children:Object(o.jsx)("img",{src:u,alt:"Extra Life"})})},p=n(29),l=n(34),f=(n(64),n(46)),d=n.n(f),T=function(e){var t=d()(e);return new URLSearchParams(window.location.search).get(t)||void 0};var E,b=function(e){return"true"===T(e)},h=function(e,t,n){return e>t&&e<n?e:e<t?t:e>n?n:void 0},j=Object(p.b)((function(e,t){var n=e.participant.value,r=e.team.value,a=t.className,c=t.options,i=n?n.sumDonations:r?r.sumDonations:0,s=n?n.fundraisingGoal:r?r.fundraisingGoal:0,o=c||{showTeamName:!1,showGoal:!1},u=n?n.milestones:[];return{className:a,sumDonations:i,fundraisingGoal:s,teamName:o.showTeamName?null===r||void 0===r?void 0:r.name:void 0,showGoal:o.showGoal,milestones:u}}))((function(e){var t,n,r=e.className,a=e.sumDonations,c=e.fundraisingGoal,i=e.teamName,s=e.showGoal,u=e.milestones,p=0!==c&&a>=0,f=Object(l.useSpring)({width:(p?(t=a,n=c,h(t/n*100,0,100)):0)+"%"});return p?Object(o.jsxs)("div",{className:"progress-region",children:[i&&Object(o.jsx)("div",{className:"progress-team-name "+r,children:Object(o.jsx)("p",{children:i})}),Object(o.jsxs)("div",{className:"progress-container","data-testid":"progress",children:[Object(o.jsx)("div",{className:"progress-bar "+r,children:Object(o.jsx)(l.animated.div,{className:"completed",style:f})}),Object(o.jsx)("div",{className:"progress-text "+r,children:Object(o.jsxs)("p",{children:["$",a.toFixed(2)]})}),u.map((function(e){return Object(o.jsx)("div",{className:"progress-milestone "+r,style:{width:e.position+"%"},children:Object(o.jsx)("div",{className:"progress-milestone-indicator"})},e.milestoneId)}))]}),s&&Object(o.jsx)("div",{className:"progress-goal "+r,children:Object(o.jsxs)("p",{children:["$",c.toFixed(2)]})})]}):null}));!function(e){e.Left="left",e.Right="right"}(E||(E={}));var m,x,_=function(e){var t=T("orientation"),n=b("debugging"),r=b("showTeamName"),a=b("showGoal"),c=function(e){var t=T(e);if(t)return t}("logo"),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e+" "+t}))}("app",t||E.Left,n?"debugging":"");return Object(o.jsxs)("div",{className:i,"data-testid":"app",children:[Object(o.jsx)(u,{choice:c}),Object(o.jsx)(j,{className:t||E.Left,options:{showTeamName:r,showGoal:a}})]})},v=n(49),O=(n(2),n(17)),g=n.n(O),C=n(21),A=n(10);!function(e){e.PARTICIPANT_ID_SET="PARTICIPANT_ID_SET",e.PARTICIPANT_FETCH_REQUESTED="PARTICIPANT_FETCH_REQUESTED",e.PARTICIPANT_FETCH_SUCCESSFUL="PARTICIPANT_FETCH_SUCCESSFUL",e.PARTICIPANT_FETCH_FAILED="PARTICIPANT_FETCH_FAILED"}(m||(m={})),function(e){e.TEAM_ID_SET="TEAM_ID_SET",e.TEAM_FETCH_REQUESTED="TEAM_FETCH_REQUESTED",e.TEAM_FETCH_SUCCESSFUL="TEAM_FETCH_SUCCESSFUL",e.TEAM_FETCH_FAILED="TEAM_FETCH_FAILED"}(x||(x={}));var F=Object(C.combineReducers)({participant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetchingParticipant:!1,fetchMilestones:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.PARTICIPANT_ID_SET:return Object(A.a)(Object(A.a)({},e),{},{id:t.id,fetchMilestones:t.fetchMilestones});case m.PARTICIPANT_FETCH_REQUESTED:return Object(A.a)(Object(A.a)({},e),{},{isFetchingParticipant:!0});case m.PARTICIPANT_FETCH_SUCCESSFUL:return Object(A.a)(Object(A.a)({},e),{},{value:t.participant,isFetchingParticipant:!1});case m.PARTICIPANT_FETCH_FAILED:return Object(A.a)(Object(A.a)({},e),{},{isFetchingParticipant:!1});default:return e}},team:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetchingTeam:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.TEAM_ID_SET:return Object(A.a)(Object(A.a)({},e),{},{id:t.id});case x.TEAM_FETCH_REQUESTED:return Object(A.a)(Object(A.a)({},e),{},{isFetchingTeam:!0});case x.TEAM_FETCH_SUCCESSFUL:return Object(A.a)(Object(A.a)({},e),{},{value:t.team,isFetchingTeam:!1});case x.TEAM_FETCH_FAILED:return Object(A.a)(Object(A.a)({},e),{},{isFetchingTeam:!1});default:return e}}}),I=n(5),w=n.n(I),S=n(6);function P(e,t){return{type:m.PARTICIPANT_ID_SET,id:e,fetchMilestones:t}}function N(e,t){return{type:m.PARTICIPANT_FETCH_REQUESTED,id:e,fetchMilestones:t}}function D(e){return{type:m.PARTICIPANT_FETCH_SUCCESSFUL,participant:e}}var R="www.extra-life.org";function U(e){return fetch("https://".concat(R,"/api/participants/").concat(e)).then((function(e){return e.json()})).catch((function(e){return console.error("Fetch participant by id failed. Reason: ".concat(e))}))}function H(e){return fetch("https://".concat(R,"/api/participants/").concat(e,"/milestones")).then((function(e){return e.json()})).catch((function(e){return console.error("Fetch participant milestones by id failed. Reason: ".concat(e))}))}function M(e){return fetch("https://".concat(R,"/api/teams/").concat(e)).then((function(e){return e.json()})).catch((function(e){return console.error("Fetch team by id failed. Reason: ".concat(e))}))}var k=function(e){return e.participant.id},y=function(e){return e.participant.fetchMilestones},L=function(e){return e.participant.isFetchingParticipant},G=w.a.mark(J),Q=w.a.mark($),W=w.a.mark(B),q=w.a.mark(z);function J(e){var t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.a)(U,e.id);case 3:if(t=n.sent,!e.fetchMilestones){n.next=11;break}return n.next=7,Object(S.a)(H,e.id);case 7:t.milestones=n.sent,t.milestones.forEach((function(e){e.position=h(e.fundraisingGoal/t.fundraisingGoal*100,0,100)})),n.next=12;break;case 11:t.milestones=[];case 12:return n.next=14,Object(S.d)(D(t));case 14:n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(0),n.next=20,Object(S.d)((r=n.t0,{type:m.PARTICIPANT_FETCH_FAILED,error:r}));case 20:case"end":return n.stop()}var r}),G,null,[[0,16]])}function $(){var e,t,n;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(S.e)(k);case 3:return e=r.sent,r.next=6,Object(S.e)(y);case 6:return t=r.sent,r.next=9,Object(S.e)(L);case 9:if(r.sent||!e){r.next=13;break}return r.next=13,Object(S.d)(N(e,t));case 13:return n=e?60:1,r.next=16,Object(S.b)(1e3*n);case 16:r.next=0;break;case 18:case"end":return r.stop()}}),Q)}function B(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.f)(m.PARTICIPANT_FETCH_REQUESTED,J);case 2:case"end":return e.stop()}}),W)}function z(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(B);case 2:return e.next=4,Object(S.c)($);case 4:case"end":return e.stop()}}),q)}function K(e){return{type:x.TEAM_FETCH_REQUESTED,id:e}}function V(e){return{type:x.TEAM_FETCH_SUCCESSFUL,team:e}}var X=function(e){return e.team.id},Y=function(e){return e.team.isFetchingTeam},Z=w.a.mark(re),ee=w.a.mark(ae),te=w.a.mark(ce),ne=w.a.mark(ie);function re(e){var t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(S.a)(M,e.id);case 3:return t=n.sent,n.next=6,Object(S.d)(V(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(S.d)((r=n.t0,{type:x.TEAM_FETCH_FAILED,error:r}));case 12:case"end":return n.stop()}var r}),Z,null,[[0,8]])}function ae(){var e,t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(S.e)(X);case 3:return e=n.sent,n.next=6,Object(S.e)(Y);case 6:if(n.sent||!e){n.next=10;break}return n.next=10,Object(S.d)(K(e));case 10:return t=e?60:1,n.next=13,Object(S.b)(1e3*t);case 13:n.next=0;break;case 15:case"end":return n.stop()}}),ee)}function ce(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.f)(x.TEAM_FETCH_REQUESTED,re);case 2:case"end":return e.stop()}}),te)}function ie(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(ce);case 2:return e.next=4,Object(S.c)(ae);case 4:case"end":return e.stop()}}),ne)}var se=w.a.mark(ue),oe=w.a.mark(pe);function ue(){var e,t,n,r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=T("participant"),t=T("orientation"),n=!t&&b("milestones"),!e){a.next=10;break}return a.next=6,Object(S.c)(z);case 6:return a.next=8,Object(S.d)(P(+e,n));case 8:a.next=19;break;case 10:if(!(r=T("team"))){a.next=18;break}return a.next=14,Object(S.c)(ie);case 14:return a.next=16,Object(S.d)((c=+r,{type:x.TEAM_ID_SET,id:c}));case 16:a.next=19;break;case 18:console.warn("No participant or team ID is set. Set the participant ID using the 'participant' query parameter or the team ID using the 'team' query parameter.");case 19:case"end":return a.stop()}var c}),se)}function pe(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.c)(ue);case 2:case"end":return e.stop()}}),oe)}var le=n(48),fe=(n(70),Object(v.a)({})),de=Object(C.createStore)(F,{},Object(le.composeWithDevTools)(Object(C.applyMiddleware)(fe)));fe.run(pe),g.a.render(Object(o.jsx)(p.a,{store:de,children:Object(o.jsx)(_,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.dc6058d0.chunk.js.map